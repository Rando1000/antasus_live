import{A as p}from"./AdminLayout-DTrqK3qj.js";import{g as n,o as a,a as e,p as k,n as _,c as y,q as B,t as o,w as u,b as r,e as d,u as g,S as h,F as x,i as m,h as I}from"./app-m2hiUU9S.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as z}from"./format-DF3zju1I.js";function A(t,i){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"})])}function v(t,i){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z","clip-rule":"evenodd"}),e("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})])}function C(t,i){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),e("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"})])}function S(t,i){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"})])}const Z={class:"p-6 transition transform bg-white border rounded-lg shadow hover:shadow-md dark:bg-gray-800 dark:border-gray-700 hover:-translate-y-1"},$={class:"flex items-center space-x-4"},N={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},U={class:"text-2xl font-bold text-gray-900 dark:text-white animate-fade-in-up"},f={__name:"SummaryCard",props:{title:String,value:[String,Number],icon:String,color:{type:String,default:"teal"}},setup(t){const i=t,c={DocumentTextIcon:v,ChartBarIcon:A,EnvelopeIcon:C,UsersIcon:S},s=k(()=>c[i.icon]||v);return(b,l)=>(a(),n("div",Z,[e("div",$,[e("div",{class:_(["flex items-center justify-center w-12 h-12 rounded-full",`bg-${t.color}-100 text-${t.color}-600 dark:bg-${t.color}-800 dark:text-${t.color}-200`])},[(a(),y(B(s.value),{class:"w-6 h-6"}))],2),e("div",null,[e("h2",N,o(t.title),1),e("p",U,o(t.value),1)])])]))}},V={class:"px-4 py-10 mx-auto max-w-7xl space-y-14"},D={class:"flex flex-col gap-6 mb-8 md:flex-row md:items-center md:justify-between"},R={class:"flex gap-3"},j={class:"grid gap-8 lg:grid-cols-5 sm:grid-cols-2"},E={class:"flex flex-col justify-between col-span-2 bg-white border border-teal-100 shadow-lg dark:bg-gray-900 rounded-2xl p-7 dark:border-teal-900/30 animate-fade-in-up"},K={key:0,class:"pb-8 text-base text-gray-400"},W={key:1,class:"mb-3 divide-y divide-teal-50 dark:divide-teal-900/10"},H={class:"font-semibold text-gray-800 dark:text-gray-100"},L={class:"ml-2 text-gray-500"},T={class:"pt-2 text-xs text-gray-500"},F={"aria-labelledby":"online-user-heading",class:"mt-14"},O={key:0,class:"flex flex-wrap gap-3"},q=["title"],G={class:"text-gray-400"},J={key:1,class:"pl-1 text-gray-400"},P={"aria-labelledby":"loggedin-user-heading",class:"mt-10"},Q={key:0,class:"space-y-1"},X={class:"font-medium text-gray-900 dark:text-gray-100"},Y={class:"text-gray-500"},ee={key:1,class:"pl-1 text-gray-400"},te={"aria-labelledby":"users-with-role-heading",class:"mt-10"},se={class:"overflow-auto bg-white border border-gray-100 rounded-lg shadow-lg dark:border-gray-800 dark:bg-gray-900"},ae={class:"min-w-full text-sm"},ne={class:"px-4 py-2"},le={class:"px-4 py-2"},oe={class:"px-4 py-2"},re={key:0,class:"mt-2 text-gray-400"},ie={__name:"Dashboard",props:{stats:{type:Object,default:()=>({services:0,referenzen:0,messages:0,users:0,newBookings:[],newBookingCount:0})},onlineUsers:Array,usersWithRoles:Array,loggedInUsers:Array},setup(t){function i(c){return c?z(new Date(c),"dd.MM.yyyy"):"-"}return(c,s)=>(a(),y(p,{title:"Dashboard"},{default:u(()=>{var b;return[e("div",V,[e("div",D,[s[3]||(s[3]=e("div",null,[e("h1",{class:"mb-2 text-4xl font-extrabold tracking-tight md:text-5xl text-antasus-black dark:text-white"}," Willkommen im Admin-Dashboard "),e("p",{class:"text-base font-medium text-gray-600 dark:text-gray-300"},[r(" Ihre zentrale Steuerzentrale für alle Aktivitäten und Auswertungen bei "),e("span",{class:"font-bold text-teal-600"},"ANTASUS Infra"),r(". ")])],-1)),e("div",R,[d(g(h),{href:"/admin/services",class:"px-5 py-2 text-sm font-semibold text-white transition bg-teal-600 rounded-lg shadow hover:bg-teal-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-teal-300","aria-label":"Services verwalten"},{default:u(()=>s[0]||(s[0]=[r(" Services verwalten ")])),_:1,__:[0]}),d(g(h),{href:"/admin/referenzen",class:"px-5 py-2 text-sm font-semibold text-white transition bg-indigo-600 rounded-lg shadow hover:bg-indigo-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-300","aria-label":"Referenzen verwalten"},{default:u(()=>s[1]||(s[1]=[r(" Referenzen verwalten ")])),_:1,__:[1]}),d(g(h),{href:"/admin/messages",class:"px-5 py-2 text-sm font-semibold text-white transition bg-blue-600 rounded-lg shadow hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-300","aria-label":"Nachrichten verwalten"},{default:u(()=>s[2]||(s[2]=[r(" Nachrichten ")])),_:1,__:[2]})])]),e("div",j,[e("div",E,[s[7]||(s[7]=e("h2",{class:"mb-3 text-lg font-bold text-teal-700 dark:text-teal-400"}," Neue Buchungen ",-1)),(b=t.stats.newBookings)!=null&&b.length?(a(),n("ul",W,[(a(!0),n(x,null,m(t.stats.newBookings,l=>(a(),n("li",{key:l.id,class:"flex items-center justify-between py-2 group"},[e("span",null,[e("span",H,o(l.name),1),e("span",L,"("+o(i(l.start))+")",1)]),d(g(h),{href:c.route("admin.bookings.index"),class:"text-sm font-medium text-teal-600 hover:underline focus:outline-none","aria-label":"Zur Buchungsübersicht"},{default:u(()=>s[4]||(s[4]=[r(" Verwalten ")])),_:1,__:[4]},8,["href"])]))),128))])):(a(),n("div",K," Keine neuen Buchungen ")),e("div",T,[s[5]||(s[5]=r(" Insgesamt ")),e("b",null,o(t.stats.newBookingCount),1),s[6]||(s[6]=r(" neue Buchung(en) "))])]),d(f,{class:"col-span-1",title:"Services",value:t.stats.services,icon:"DocumentTextIcon",color:"teal"},null,8,["value"]),d(f,{class:"col-span-1",title:"Referenzen",value:t.stats.referenzen,icon:"ChartBarIcon",color:"indigo"},null,8,["value"]),d(f,{class:"col-span-1",title:"Nachrichten",value:t.stats.messages,icon:"EnvelopeIcon",color:"blue"},null,8,["value"]),d(f,{class:"col-span-1",title:"Kunden",value:t.stats.users,icon:"UsersIcon",color:"rose"},null,8,["value"])]),e("section",F,[s[8]||(s[8]=e("h2",{id:"online-user-heading",class:"mb-4 text-2xl font-bold text-gray-800 dark:text-white"}," Online-Benutzer ",-1)),t.onlineUsers&&t.onlineUsers.length?(a(),n("ul",O,[(a(!0),n(x,null,m(t.onlineUsers,l=>(a(),n("li",{key:l.id,class:"px-3 py-2 text-sm font-medium text-teal-700 shadow rounded-xl bg-teal-50 dark:bg-teal-900/40 dark:text-teal-200",title:l.email},[r(o(l.name)+" ",1),e("span",G,"("+o(l.email)+")",1)],8,q))),128))])):(a(),n("div",J," Keine Benutzer online "))]),e("section",P,[s[9]||(s[9]=e("h2",{id:"loggedin-user-heading",class:"mb-4 text-2xl font-bold text-gray-800 dark:text-white"}," Eingeloggt (ever) ",-1)),t.loggedInUsers&&t.loggedInUsers.length?(a(),n("ul",Q,[(a(!0),n(x,null,m(t.loggedInUsers,l=>(a(),n("li",{key:l.id},[e("span",X,o(l.name),1),e("span",Y," — zuletzt eingeloggt am "+o(i(l.last_activity)),1)]))),128))])):(a(),n("div",ee,"Keine Einträge"))]),e("section",te,[s[11]||(s[11]=e("h2",{id:"users-with-role-heading",class:"mb-4 text-2xl font-bold text-gray-800 dark:text-white"}," Benutzer mit Rolle ",-1)),e("div",se,[e("table",ae,[s[10]||(s[10]=e("thead",{class:"bg-teal-50 dark:bg-teal-950/40"},[e("tr",null,[e("th",{class:"px-4 py-3 font-semibold text-left"}," Name "),e("th",{class:"px-4 py-3 font-semibold text-left"}," E-Mail "),e("th",{class:"px-4 py-3 font-semibold text-left"}," Rollen ")])],-1)),e("tbody",null,[(a(!0),n(x,null,m(t.usersWithRoles,l=>(a(),n("tr",{key:l.id,class:"transition hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",ne,o(l.name),1),e("td",le,o(l.email),1),e("td",oe,o(l.roles.map(w=>w.name).join(", ")),1)]))),128))])])]),!t.usersWithRoles||!t.usersWithRoles.length?(a(),n("div",re," Keine Benutzer mit Rolle ")):I("",!0)])])]}),_:1}))}},he=M(ie,[["__scopeId","data-v-9ea67b80"]]);export{he as default};
