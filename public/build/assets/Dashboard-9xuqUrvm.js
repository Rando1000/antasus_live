import{r as k,a as p,b as y,A as _}from"./AdminLayout-DzxIwoPk.js";import{g as l,o as a,a as e,q as B,n as I,c as v,j as z,t as o,w as u,b as r,e as i,u as g,S as m,F as x,i as h,h as S}from"./app-D82yjcql.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as C}from"./format-DF3zju1I.js";function N(s,c){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),e("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"})])}const U={class:"p-6 transition transform bg-white border rounded-lg shadow hover:shadow-md dark:bg-gray-800 dark:border-gray-700 hover:-translate-y-1"},A={class:"flex items-center space-x-4"},D={class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},R={class:"text-2xl font-bold text-gray-900 dark:text-white animate-fade-in-up"},b={__name:"SummaryCard",props:{title:String,value:[String,Number],icon:String,color:{type:String,default:"teal"}},setup(s){const c=s,d={DocumentTextIcon:y,ChartBarIcon:p,EnvelopeIcon:N,UsersIcon:k},t=B(()=>d[c.icon]||y);return(f,n)=>(a(),l("div",U,[e("div",A,[e("div",{class:I(["flex items-center justify-center w-12 h-12 rounded-full",`bg-${s.color}-100 text-${s.color}-600 dark:bg-${s.color}-800 dark:text-${s.color}-200`])},[(a(),v(z(t.value),{class:"w-6 h-6"}))],2),e("div",null,[e("h2",D,o(s.title),1),e("p",R,o(s.value),1)])])]))}},j={class:"px-4 py-10 mx-auto max-w-7xl space-y-14"},V={class:"flex flex-col gap-6 mb-8 md:flex-row md:items-center md:justify-between"},E={class:"flex gap-3"},M={class:"grid gap-8 lg:grid-cols-5 sm:grid-cols-2"},K={class:"flex flex-col justify-between col-span-2 bg-white border border-teal-100 shadow-lg dark:bg-gray-900 rounded-2xl p-7 dark:border-teal-900/30 animate-fade-in-up"},W={key:0,class:"pb-8 text-base text-gray-400"},L={key:1,class:"mb-3 divide-y divide-teal-50 dark:divide-teal-900/10"},T={class:"font-semibold text-gray-800 dark:text-gray-100"},Z={class:"ml-2 text-gray-500"},F={class:"pt-2 text-xs text-gray-500"},O={"aria-labelledby":"online-user-heading",class:"mt-14"},q={key:0,class:"flex flex-wrap gap-3"},G=["title"],H={class:"text-gray-400"},J={key:1,class:"pl-1 text-gray-400"},P={"aria-labelledby":"loggedin-user-heading",class:"mt-10"},Q={key:0,class:"space-y-1"},X={class:"font-medium text-gray-900 dark:text-gray-100"},Y={class:"text-gray-500"},ee={key:1,class:"pl-1 text-gray-400"},te={"aria-labelledby":"users-with-role-heading",class:"mt-10"},se={class:"overflow-auto bg-white border border-gray-100 rounded-lg shadow-lg dark:border-gray-800 dark:bg-gray-900"},ae={class:"min-w-full text-sm"},ne={class:"px-4 py-2"},le={class:"px-4 py-2"},oe={class:"px-4 py-2"},re={key:0,class:"mt-2 text-gray-400"},ie={__name:"Dashboard",props:{stats:{type:Object,default:()=>({services:0,referenzen:0,messages:0,users:0,newBookings:[],newBookingCount:0})},onlineUsers:Array,usersWithRoles:Array,loggedInUsers:Array},setup(s){function c(d){return d?C(new Date(d),"dd.MM.yyyy"):"-"}return(d,t)=>(a(),v(_,{title:"Dashboard"},{default:u(()=>{var f;return[e("div",j,[e("div",V,[t[3]||(t[3]=e("div",null,[e("h1",{class:"mb-2 text-4xl font-extrabold tracking-tight md:text-5xl text-antasus-black dark:text-white"}," Willkommen im Admin-Dashboard "),e("p",{class:"text-base font-medium text-gray-600 dark:text-gray-300"},[r(" Ihre zentrale Steuerzentrale für alle Aktivitäten und Auswertungen bei "),e("span",{class:"font-bold text-teal-600"},"ANTASUS Infra"),r(". ")])],-1)),e("div",E,[i(g(m),{href:"/admin/services",class:"px-5 py-2 text-sm font-semibold text-white transition bg-teal-600 rounded-lg shadow hover:bg-teal-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-teal-300","aria-label":"Services verwalten"},{default:u(()=>t[0]||(t[0]=[r(" Services verwalten ")])),_:1,__:[0]}),i(g(m),{href:"/admin/referenzen",class:"px-5 py-2 text-sm font-semibold text-white transition bg-indigo-600 rounded-lg shadow hover:bg-indigo-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-300","aria-label":"Referenzen verwalten"},{default:u(()=>t[1]||(t[1]=[r(" Referenzen verwalten ")])),_:1,__:[1]}),i(g(m),{href:"/admin/messages",class:"px-5 py-2 text-sm font-semibold text-white transition bg-blue-600 rounded-lg shadow hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-300","aria-label":"Nachrichten verwalten"},{default:u(()=>t[2]||(t[2]=[r(" Nachrichten ")])),_:1,__:[2]})])]),e("div",M,[e("div",K,[t[7]||(t[7]=e("h2",{class:"mb-3 text-lg font-bold text-teal-700 dark:text-teal-400"}," Neue Buchungen ",-1)),(f=s.stats.newBookings)!=null&&f.length?(a(),l("ul",L,[(a(!0),l(x,null,h(s.stats.newBookings,n=>(a(),l("li",{key:n.id,class:"flex items-center justify-between py-2 group"},[e("span",null,[e("span",T,o(n.name),1),e("span",Z,"("+o(c(n.start))+")",1)]),i(g(m),{href:d.route("admin.bookings.index"),class:"text-sm font-medium text-teal-600 hover:underline focus:outline-none","aria-label":"Zur Buchungsübersicht"},{default:u(()=>t[4]||(t[4]=[r(" Verwalten ")])),_:1,__:[4]},8,["href"])]))),128))])):(a(),l("div",W," Keine neuen Buchungen ")),e("div",F,[t[5]||(t[5]=r(" Insgesamt ")),e("b",null,o(s.stats.newBookingCount),1),t[6]||(t[6]=r(" neue Buchung(en) "))])]),i(b,{class:"col-span-1",title:"Services",value:s.stats.services,icon:"DocumentTextIcon",color:"teal"},null,8,["value"]),i(b,{class:"col-span-1",title:"Referenzen",value:s.stats.referenzen,icon:"ChartBarIcon",color:"indigo"},null,8,["value"]),i(b,{class:"col-span-1",title:"Nachrichten",value:s.stats.messages,icon:"EnvelopeIcon",color:"blue"},null,8,["value"]),i(b,{class:"col-span-1",title:"Kunden",value:s.stats.users,icon:"UsersIcon",color:"rose"},null,8,["value"])]),e("section",O,[t[8]||(t[8]=e("h2",{id:"online-user-heading",class:"mb-4 text-2xl font-bold text-gray-800 dark:text-white"}," Online-Benutzer ",-1)),s.onlineUsers&&s.onlineUsers.length?(a(),l("ul",q,[(a(!0),l(x,null,h(s.onlineUsers,n=>(a(),l("li",{key:n.id,class:"px-3 py-2 text-sm font-medium text-teal-700 shadow rounded-xl bg-teal-50 dark:bg-teal-900/40 dark:text-teal-200",title:n.email},[r(o(n.name)+" ",1),e("span",H,"("+o(n.email)+")",1)],8,G))),128))])):(a(),l("div",J," Keine Benutzer online "))]),e("section",P,[t[9]||(t[9]=e("h2",{id:"loggedin-user-heading",class:"mb-4 text-2xl font-bold text-gray-800 dark:text-white"}," Eingeloggt (ever) ",-1)),s.loggedInUsers&&s.loggedInUsers.length?(a(),l("ul",Q,[(a(!0),l(x,null,h(s.loggedInUsers,n=>(a(),l("li",{key:n.id},[e("span",X,o(n.name),1),e("span",Y," — zuletzt eingeloggt am "+o(c(n.last_activity)),1)]))),128))])):(a(),l("div",ee,"Keine Einträge"))]),e("section",te,[t[11]||(t[11]=e("h2",{id:"users-with-role-heading",class:"mb-4 text-2xl font-bold text-gray-800 dark:text-white"}," Benutzer mit Rolle ",-1)),e("div",se,[e("table",ae,[t[10]||(t[10]=e("thead",{class:"bg-teal-50 dark:bg-teal-950/40"},[e("tr",null,[e("th",{class:"px-4 py-3 font-semibold text-left"}," Name "),e("th",{class:"px-4 py-3 font-semibold text-left"}," E-Mail "),e("th",{class:"px-4 py-3 font-semibold text-left"}," Rollen ")])],-1)),e("tbody",null,[(a(!0),l(x,null,h(s.usersWithRoles,n=>(a(),l("tr",{key:n.id,class:"transition hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",ne,o(n.name),1),e("td",le,o(n.email),1),e("td",oe,o(n.roles.map(w=>w.name).join(", ")),1)]))),128))])])]),!s.usersWithRoles||!s.usersWithRoles.length?(a(),l("div",re," Keine Benutzer mit Rolle ")):S("",!0)])])]}),_:1}))}},me=$(ie,[["__scopeId","data-v-9ea67b80"]]);export{me as default};
