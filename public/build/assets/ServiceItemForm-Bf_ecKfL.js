import{j as b,e as v,y,f as a,o as d,a as e,k as m,v as u,g as x,q as w}from"./app-_apSag_a.js";const k={key:0,class:"mt-2"},B=["src"],U={key:1,class:"mt-2"},h=["src"],V={__name:"ServiceItemForm",props:{item:{type:Object,default:()=>({title:"",description:"",position:0,image:null,image_url:null})},isEdit:{type:Boolean,default:!1}},emits:["submit"],setup(r,{emit:p}){const l=r,c=p,i=b({title:l.item.title,description:l.item.description,position:l.item.position??0,image:null}),n=v(null);y(()=>l.item,o=>{i.title=o.title,i.description=o.description,i.position=o.position??0,i.image=null,n.value=null});function f(o){const t=o.target.files[0];t&&(i.image=t,n.value=URL.createObjectURL(t))}function g(){const o=new FormData;o.append("title",i.title),o.append("description",i.description),o.append("position",i.position??""),i.image&&o.append("image",i.image),l.isEdit&&o.append("_method","put"),c("submit",o)}return(o,t)=>(d(),a("form",{onSubmit:w(g,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[e("div",null,[t[3]||(t[3]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," Titel ",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.title=s),type:"text",id:"title",required:"",class:"w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500"},null,512),[[u,i.title]])]),e("div",null,[t[4]||(t[4]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Beschreibung ",-1)),m(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.description=s),id:"description",rows:"4",required:"",class:"w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500"},null,512),[[u,i.description]])]),e("div",null,[t[6]||(t[6]=e("label",{for:"image",class:"block mb-1 font-medium text-gray-700"}," Bild hochladen ",-1)),e("input",{ref:"fileInput",id:"image",type:"file",accept:"image/*",onChange:f,class:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-teal-500"},null,544),n.value?(d(),a("div",k,[e("img",{src:n.value,class:"object-cover max-h-32"},null,8,B)])):r.item.image_url?(d(),a("div",U,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-500"},"Aktuelles Bild:",-1)),e("img",{src:r.item.image_url,class:"object-cover max-h-32"},null,8,h)])):x("",!0)]),e("div",null,[t[7]||(t[7]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700"}," Position (optional) ",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.position=s),type:"number",id:"position",class:"w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500"},null,512),[[u,i.position,void 0,{number:!0}]])]),t[8]||(t[8]=e("div",null,[e("button",{type:"submit",class:"px-4 py-2 text-white bg-teal-600 rounded hover:bg-teal-700"}," Speichern ")],-1))],32))}};export{V as _};
