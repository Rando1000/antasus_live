import{f as p,g as C,o as d,F as h,h as v,c as V,n as B,i as D,j as M,a as e,d as S,k as u,v as m,l as N,m as f,W as y,t as l}from"./app-C4qtNsu_.js";import{f as g}from"./format-CBpsKyOP.js";const T={key:0,class:"flex items-center justify-center mt-6 space-x-2 text-sm"},U={__name:"Pagination",props:{links:Array},setup(o){return(i,a)=>o.links.length>3?(d(),p("div",T,[(d(!0),p(h,null,v(o.links,(r,c)=>(d(),V(D(r.url?"Link":"span"),{key:c,href:r.url,innerHTML:r.label,class:B(["px-3 py-1 border rounded",{"bg-teal-600 text-white border-teal-600":r.active,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800":!r.active&&r.url,"text-gray-400":!r.url}])},null,8,["href","innerHTML","class"]))),128))])):C("",!0)}},H={class:"p-6 space-y-6"},$={class:"flex items-center gap-4 mb-4"},L={class:"overflow-x-auto bg-white shadow dark:bg-gray-900 rounded-xl"},j={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},z={class:"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-800"},A={class:"px-4 py-2"},F={class:"px-4 py-2"},E={class:"px-4 py-2 capitalize"},K={class:"px-4 py-2"},O={class:"px-4 py-2"},W={class:"px-4 py-2"},I={class:"px-4 py-2"},P=["onUpdate:modelValue","onChange"],R={class:"px-4 py-2"},Z=["onClick"],J={__name:"Index",props:{bookings:Object,filters:Object},setup(o){const i=o,a=M({search:i.filters.search||"",status:i.filters.status||"",from:i.filters.from||"",to:i.filters.to||""});function r(){y.get(route("admin.bookings.index"),a,{preserveScroll:!0,replace:!0})}function c(){a.search="",a.status="",a.from="",a.to="",r()}function b(n){return g(new Date(n),"dd.MM.yyyy")}function _(n,s){return g(new Date(n),"HH:mm")+" – "+g(new Date(s),"HH:mm")}function k(n){y.put(`/admin/bookings/${n.id}/status`,{status:n.status},{preserveScroll:!0})}function w(n){confirm("Buchung wirklich löschen?")&&y.delete(`/admin/bookings/${n}`,{preserveScroll:!0})}return(n,s)=>(d(),p("div",H,[s[7]||(s[7]=e("h1",{class:"text-2xl font-bold"},"Terminbuchungen",-1)),e("div",$,[u(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>a.search=t),placeholder:"Suche nach Name oder E-Mail",class:"w-64 px-3 py-2 border rounded",onKeydown:N(r,["enter"])},null,544),[[m,a.search]]),u(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.status=t),onChange:r,class:"px-3 py-2 border rounded"},s[4]||(s[4]=[e("option",{value:""},"Alle Status",-1),e("option",{value:"neu"},"Neu",-1),e("option",{value:"bearbeitet"},"Bearbeitet",-1),e("option",{value:"abgesagt"},"Abgesagt",-1)]),544),[[f,a.status]]),u(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=t=>a.from=t),class:"px-3 py-2 border rounded",onChange:r},null,544),[[m,a.from]]),u(e("input",{type:"date","onUpdate:modelValue":s[3]||(s[3]=t=>a.to=t),class:"px-3 py-2 border rounded",onChange:r},null,544),[[m,a.to]]),e("button",{onClick:c,class:"text-sm text-gray-500 hover:underline"}," Zurücksetzen ")]),e("div",L,[e("table",j,[s[6]||(s[6]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Datum "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Uhrzeit "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Typ "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Name "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," E-Mail "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Thema ")])],-1)),e("tbody",z,[(d(!0),p(h,null,v(o.bookings.data,t=>(d(),p("tr",{key:t.id},[e("td",A,l(b(t.start)),1),e("td",F,l(_(t.start,t.end)),1),e("td",E,l(t.type),1),e("td",K,l(t.name),1),e("td",O,l(t.email),1),e("td",W,l(t.topic??"–"),1),e("td",I,[u(e("select",{"onUpdate:modelValue":x=>t.status=x,onChange:x=>k(t),class:"px-2 py-1 text-sm bg-white border rounded dark:bg-gray-800"},s[5]||(s[5]=[e("option",{value:"neu"},"Neu",-1),e("option",{value:"bearbeitet"},"Bearbeitet",-1),e("option",{value:"abgesagt"},"Abgesagt",-1)]),40,P),[[f,t.status]])]),e("td",R,[e("button",{onClick:x=>w(t.id),class:"text-red-600 hover:underline"}," Löschen ",8,Z)])]))),128))])])]),S(U,{links:o.bookings.links},null,8,["links"])]))}};export{J as default};
