import{c as y,o as l,w as f,f as a,g as v,a as e,r as g,T as h,e as p,d as w,F as k,h as V,p as A,l as c,v as m,n as b,t as i}from"./app-BQOzp4G2.js";import{d as $}from"./index-DVgp0koL.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},B={class:"w-full max-w-md mx-4 bg-white rounded-lg shadow-lg"},D={class:"p-4"},E={__name:"Dialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(u,{emit:n}){return(d,o)=>(l(),y(h,{name:"fade"},{default:f(()=>[u.modelValue?(l(),a("div",S,[e("div",B,[e("div",D,[g(d.$slots,"default",{},void 0,!0)])])])):v("",!0)]),_:3}))}},M=C(E,[["__scopeId","data-v-d9606b16"]]),j={class:"p-6 bg-white rounded-lg shadow"},N={class:"w-full border-collapse"},T={class:"px-3 py-2 border"},U={class:"px-3 py-2 border"},z={class:"px-3 py-2 border"},I={class:"px-3 py-2 border"},F={class:"px-3 py-2 border"},L=["onClick"],q={key:1,class:"text-sm text-gray-600"},G={class:"w-full max-w-md p-6 bg-white rounded-lg"},O={class:"mb-3"},W={class:"mb-3"},H={class:"mb-3"},J={class:"flex justify-end gap-2 mt-4"},X={__name:"EmailCampaignIndex",props:{campaigns:Array},setup(u){const n=p(!1),d=p(null),o=p({contact_name:"",contact_email:"",contact_phone:""});function x(r){d.value=r,o.value={contact_name:r.contact_name||"",contact_email:r.contact_email||"",contact_phone:r.contact_phone||""},n.value=!0}function _(){$.Inertia.put(`/admin/emailkonverse/${d.value.id}`,o.value,{onSuccess:()=>{n.value=!1}})}return(r,t)=>(l(),a("div",j,[t[11]||(t[11]=e("h1",{class:"mb-4 text-2xl font-bold"},"Versendete Werbe-Mails",-1)),e("table",N,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-2 text-left border"},"Empfänger"),e("th",{class:"px-3 py-2 text-left border"},"Betreff"),e("th",{class:"px-3 py-2 text-left border"},"Gesendet am"),e("th",{class:"px-3 py-2 text-left border"},"Status"),e("th",{class:"px-3 py-2 text-left border"},"Aktion")])],-1)),e("tbody",null,[(l(!0),a(k,null,V(u.campaigns,s=>(l(),a("tr",{key:s.id,class:b(s.responded?"bg-green-50":"")},[e("td",T,i(s.recipient_email),1),e("td",U,i(s.subject),1),e("td",z,i(new Date(s.sent_at).toLocaleString()),1),e("td",I,[e("span",{class:b(s.responded?"text-green-700":"text-gray-500")},i(s.responded?"Antwort erhalten":"Offen"),3)]),e("td",F,[s.responded?(l(),a("span",q,"—")):(l(),a("button",{key:0,onClick:K=>x(s),class:"px-2 py-1 text-sm text-white bg-teal-600 rounded hover:bg-teal-700"}," Als beantwortet markieren ",8,L))])],2))),128))])]),w(M,{modelValue:n.value,"onUpdate:modelValue":t[4]||(t[4]=s=>n.value=s),class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},{default:f(()=>[e("div",G,[t[10]||(t[10]=e("h2",{class:"mb-4 text-xl font-bold"},"Antwort-Daten eintragen",-1)),e("form",{onSubmit:A(_,["prevent"])},[e("div",O,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium"},"Name Ansprechpartner",-1)),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.contact_name=s),type:"text",class:"w-full px-2 py-1 border rounded"},null,512),[[m,o.value.contact_name]])]),e("div",W,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium"},"E-Mail Ansprechpartner",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.contact_email=s),type:"email",class:"w-full px-2 py-1 border rounded"},null,512),[[m,o.value.contact_email]])]),e("div",H,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium"},"Telefon",-1)),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.contact_phone=s),type:"text",class:"w-full px-2 py-1 border rounded"},null,512),[[m,o.value.contact_phone]])]),e("div",J,[e("button",{type:"button",onClick:t[3]||(t[3]=s=>n.value=!1),class:"px-4 py-2 border rounded"}," Abbrechen "),t[9]||(t[9]=e("button",{type:"submit",class:"px-4 py-2 text-white bg-teal-600 rounded hover:bg-teal-700"}," Speichern ",-1))])],32)])]),_:1},8,["modelValue"])]))}};export{X as default};
