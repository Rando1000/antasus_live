import{g as p,h as C,o as u,F as h,i as v,c as M,n as V,j as B,k as D,a as e,e as S,l as i,v as x,m as U,p as y,W as g,t as n}from"./app-DaJxYQw8.js";import{f}from"./format-DF3zju1I.js";const z={key:0,class:"flex items-center justify-center mt-6 space-x-2 text-sm"},N={__name:"Pagination",props:{links:Array},setup(l){return(d,a)=>l.links.length>3?(u(),p("div",z,[(u(!0),p(h,null,v(l.links,(r,c)=>(u(),M(B(r.url?"Link":"span"),{key:c,href:r.url,innerHTML:r.label,class:V(["px-3 py-1 border rounded",{"bg-teal-600 text-white border-teal-600":r.active,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800":!r.active&&r.url,"text-gray-400":!r.url}])},null,8,["href","innerHTML","class"]))),128))])):C("",!0)}},T={class:"p-6 space-y-6"},H={class:"flex items-center gap-4 mb-4"},$={class:"overflow-x-auto bg-white shadow dark:bg-gray-900 rounded-xl"},A={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},L={class:"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-800"},j={class:"px-4 py-2"},F={class:"px-4 py-2"},E={class:"px-4 py-2 capitalize"},O={class:"px-4 py-2 capitalize"},K={class:"px-4 py-2"},P={class:"px-4 py-2"},W={class:"px-4 py-2"},I={class:"px-4 py-2"},R=["onUpdate:modelValue","onChange"],Z={class:"px-4 py-2"},q=["onClick"],Q={__name:"Index",props:{bookings:Object,filters:Object},setup(l){const d=l,a=D({search:d.filters.search||"",status:d.filters.status||"",from:d.filters.from||"",to:d.filters.to||"",mode:d.filters.mode||""});function r(){g.get(route("admin.bookings.index"),a,{preserveScroll:!0,replace:!0})}function c(){a.search="",a.status="",a.from="",a.to="",r()}function b(o){return f(new Date(o),"dd.MM.yyyy")}function _(o,s){return f(new Date(o),"HH:mm")+" – "+f(new Date(s),"HH:mm")}function k(o){g.put(`/admin/bookings/${o.id}/status`,{status:o.status},{preserveScroll:!0})}function w(o){confirm("Buchung wirklich löschen?")&&g.delete(`/admin/bookings/${o}`,{preserveScroll:!0})}return(o,s)=>(u(),p("div",T,[s[9]||(s[9]=e("h1",{class:"text-2xl font-bold"},"Terminbuchungen",-1)),e("div",H,[i(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>a.search=t),placeholder:"Suche nach Name oder E-Mail",class:"w-64 px-3 py-2 border rounded",onKeydown:U(r,["enter"])},null,544),[[x,a.search]]),i(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.status=t),onChange:r,class:"py-2 border rounded"},s[5]||(s[5]=[e("option",{value:""},"Alle Status",-1),e("option",{value:"neu"},"Neu",-1),e("option",{value:"bearbeitet"},"Bearbeitet",-1),e("option",{value:"abgesagt"},"Abgesagt",-1)]),544),[[y,a.status]]),i(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=t=>a.from=t),class:"px-3 py-2 border rounded",onChange:r},null,544),[[x,a.from]]),i(e("input",{type:"date","onUpdate:modelValue":s[3]||(s[3]=t=>a.to=t),class:"px-3 py-2 border rounded",onChange:r},null,544),[[x,a.to]]),i(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>a.mode=t),onChange:r,class:"py-2 border rounded"},s[6]||(s[6]=[e("option",{value:""},"Alle Modi",-1),e("option",{value:"online"},"Online",-1),e("option",{value:"praesenz"},"Präsenz",-1)]),544),[[y,a.mode]]),e("button",{onClick:c,class:"text-sm text-gray-500 hover:underline"}," Zurücksetzen ")]),e("div",$,[e("table",A,[s[8]||(s[8]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Datum "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Uhrzeit "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Typ "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Meeting-Mode "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Name "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," E-Mail "),e("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," Thema ")])],-1)),e("tbody",L,[(u(!0),p(h,null,v(l.bookings.data,t=>(u(),p("tr",{key:t.id},[e("td",j,n(b(t.start)),1),e("td",F,n(_(t.start,t.end)),1),e("td",E,n(t.type),1),e("td",O,n(t.mode??"–"),1),e("td",K,n(t.name),1),e("td",P,n(t.email),1),e("td",W,n(t.topic??"–"),1),e("td",I,[i(e("select",{"onUpdate:modelValue":m=>t.status=m,onChange:m=>k(t),class:"px-2 py-1 text-sm bg-white border rounded dark:bg-gray-800"},s[7]||(s[7]=[e("option",{value:"neu"},"Neu",-1),e("option",{value:"bearbeitet"},"Bearbeitet",-1),e("option",{value:"abgesagt"},"Abgesagt",-1)]),40,R),[[y,t.status]])]),e("td",Z,[e("button",{onClick:m=>w(t.id),class:"text-red-600 hover:underline"}," Löschen ",8,q)])]))),128))])])]),S(N,{links:l.bookings.links},null,8,["links"])]))}};export{Q as default};
