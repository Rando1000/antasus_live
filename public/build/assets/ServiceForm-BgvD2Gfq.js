import{j as b,f as y,s as k,g as n,o as a,a as i,k as u,h as d,b as w,v as p,t as m,B as U,y as V}from"./app-D8qM44oJ.js";const B={key:0,class:"mt-1 text-xs text-red-600"},j={key:0,class:"mt-1 text-xs text-red-600"},h={key:0,class:"mt-1 text-xs text-red-600"},C={key:0,class:"mt-2"},D=["src"],F={key:1,class:"mt-2"},M=["src"],N={key:2,class:"mt-1 text-xs text-red-600"},O={key:0,class:"mt-1 text-xs text-red-600"},T={class:"flex items-center"},L={__name:"ServiceForm",props:{service:{type:Object,default:()=>({title:"",slug:"",description:"",image:null,image_url:null,position:0,is_active:1})},errors:{type:Object,default:()=>({})}},emits:["submit"],setup(l,{emit:g}){const r=l,f=g,t=b({title:r.service.title??"",slug:r.service.slug??"",description:r.service.description??"",image:null,image_url:r.service.image_url??null,position:r.service.position??0,is_active:r.service.is_active??1}),c=y(null);k(()=>r.service,s=>{t.title=s.title??"",t.slug=s.slug??"",t.description=s.description??"",t.image_url=s.image_url??null,t.position=s.position??0,t.is_active=s.is_active??1,t.image=null,c.value=null});function v(s){const e=s.target.files[0];e&&(t.image=e,c.value=URL.createObjectURL(e))}function x(){const s=new FormData;s.append("title",t.title),s.append("slug",t.slug??""),s.append("description",t.description??""),s.append("position",t.position??""),s.append("is_active",t.is_active?1:0),t.image&&s.append("image",t.image),r.service.id&&s.append("_method","put"),f("submit",s)}return(s,e)=>(a(),n("form",{onSubmit:V(x,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[i("div",null,[e[5]||(e[5]=i("label",{for:"title",class:"block mb-1 font-medium text-gray-700"},[w(" Titel "),i("span",{class:"text-red-500"},"*")],-1)),u(i("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.title=o),id:"title",type:"text",required:"",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-teal-500"},null,512),[[p,t.title]]),l.errors.title?(a(),n("div",B,m(l.errors.title),1)):d("",!0)]),i("div",null,[e[6]||(e[6]=i("label",{for:"slug",class:"block mb-1 font-medium text-gray-700"}," Slug ",-1)),u(i("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.slug=o),id:"slug",type:"text",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-teal-500"},null,512),[[p,t.slug]]),l.errors.slug?(a(),n("div",j,m(l.errors.slug),1)):d("",!0)]),i("div",null,[e[7]||(e[7]=i("label",{for:"description",class:"block mb-1 font-medium text-gray-700"}," Beschreibung ",-1)),u(i("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.description=o),id:"description",rows:"4",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-teal-500"},null,512),[[p,t.description]]),l.errors.description?(a(),n("div",h,m(l.errors.description),1)):d("",!0)]),i("div",null,[e[9]||(e[9]=i("label",{for:"image",class:"block mb-1 font-medium text-gray-700"}," Bild hochladen ",-1)),i("input",{ref:"fileInput",id:"image",type:"file",accept:"image/*",onChange:v,class:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-teal-500"},null,544),c.value?(a(),n("div",C,[i("img",{src:c.value,class:"object-cover rounded max-h-32"},null,8,D)])):t.image_url?(a(),n("div",F,[e[8]||(e[8]=i("p",{class:"text-sm text-gray-500"},"Aktuelles Bild:",-1)),i("img",{src:t.image_url,class:"object-cover rounded max-h-32"},null,8,M)])):d("",!0),l.errors.image?(a(),n("div",N,m(l.errors.image),1)):d("",!0)]),i("div",null,[e[10]||(e[10]=i("label",{for:"position",class:"block mb-1 font-medium text-gray-700"}," Position ",-1)),u(i("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.position=o),id:"position",type:"number",class:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-teal-500"},null,512),[[p,t.position,void 0,{number:!0}]]),l.errors.position?(a(),n("div",O,m(l.errors.position),1)):d("",!0)]),i("div",T,[u(i("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.is_active=o),id:"is_active",type:"checkbox",class:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500","true-value":1,"false-value":0},null,512),[[U,t.is_active]]),e[11]||(e[11]=i("label",{for:"is_active",class:"ml-2 text-sm text-gray-700"}," Aktiv ",-1))]),e[12]||(e[12]=i("div",{class:"pt-4"},[i("button",{type:"submit",class:"px-6 py-2 font-semibold text-white bg-teal-600 rounded-md hover:bg-teal-700"}," Speichern ")],-1))],32))}};export{L as _};
